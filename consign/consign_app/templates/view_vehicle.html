{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="Untree.co"/>
    <link rel="shortcut icon" href="{% static 'favicon.png' %}"/>

    <meta name="description" content=""/>
    <meta name="keywords" content="bootstrap, bootstrap5"/>

    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
    <link
            href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700&display=swap"
            rel="stylesheet"
    />

    <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css' %}"/>
    <link rel="stylesheet" href="{% static 'fonts/flaticon/font/flaticon.css' %}"/>

    <link rel="stylesheet" href="{% static 'css/tiny-slider.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/aos.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/style.css' %}"/>

    <title>
        Consignment
    </title>
</head>
<body>
<div class="site-mobile-menu site-navbar-target">
    <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close">
            <span class="icofont-close js-menu-toggle"></span>
        </div>
    </div>
    <div class="site-mobile-menu-body"></div>
</div>

{% include 'index_menu.html' %}

<br><br><br>

<div class="container">
    <div class="row justify-content-center align-items-center">
        <div class="col-lg-9 text-center mt-5">
            <h1 class="heading" data-aos="fade-up">View Vehicle</h1>


        </div>
    </div>
</div>
</div>
<!-- end header -->
<div class="background-container"></div>
<div class="content">
    <div class="" style=" overflow-x: auto;">
        <h2>Vehicle Details</h2>

        <div class="">
            <div class="">
                <form method="get">
                    <table class="table table-striped table-bordered">

                        <thead class="table-dark">
                        <tr>
                            <th>Vehicle Number</th>
                            <th>RC Date</th>
                            <th>RC Image</th>
                            <th>Insurance Date</th>
                            <th>Insurance Image</th>
                            <th>Permit Date</th>
                            <th>Permit Image</th>
                            <th>Tax Date</th>
                            <th>Tax Image</th>
                            <th>Emission Date</th>
                            <th>Emission Image</th>
                            <th>Action</th>
                            <th></th>
                        </tr>
                        </thead>

                        <tbody>
                        {% for d in data %}
                        <tr class="custom-row">
                            <td>{{ d.vehicle_number }}</td>

                            <!-- RC Date with color based on days left -->
                            <td style="background-color: {% if d.rc_days_left <= 7 and d.rc_days_left > 0 %}orange
                                     {% elif d.rc_days_left <= 0 %}red
                                     {% endif %};">
                                {{ d.rccardate }}
                            </td>
                            <td>
                                {% if d.rccard %}
                                <img src="{{ d.rccard.url }}" alt="RC Card" width="50" height="50">
                                {% else %}
                                No Image
                                {% endif %}
                            </td>

                            <!-- Insurance Date with color based on days left -->
                            <td style="background-color: {% if d.insurance_days_left <= 7 and d.insurance_days_left > 0 %}orange
                                     {% elif d.insurance_days_left <= 0 %}red
                                     {% endif %};">
                                {{ d.incurencedate }}
                            </td>
                            <td>
                                {% if d.incurence %}
                                <img src="{{ d.incurence.url }}" alt="Incurence" width="50" height="50">
                                {% else %}
                                No Image
                                {% endif %}
                            </td>

                            <!-- Permit Date with color based on days left -->
                            <td style="background-color: {% if d.permit_days_left <= 7 and d.permit_days_left > 0 %}orange
                                     {% elif d.permit_days_left <= 0 %}red
                                     {% endif %};">
                                {{ d.permitdate }}
                            </td>
                            <td>
                                {% if d.permit %}
                                <img src="{{ d.permit.url }}" alt="Permit" width="50" height="50">
                                {% else %}
                                No Image
                                {% endif %}
                            </td>

                            <!-- Tax Date with color based on days left -->
                            <td style="background-color: {% if d.tax_days_left <= 7 and d.tax_days_left > 0 %}orange
                                     {% elif d.tax_days_left <= 0 %}red
                                     {% endif %};">
                                {{ d.taxdate }}
                            </td>
                            <td>
                                {% if d.tax %}
                                <img src="{{ d.tax.url }}" alt="TAX" width="50" height="50">
                                {% else %}
                                No Image
                                {% endif %}
                            </td>

                            <!-- Emission Date with color based on days left -->
                            <td style="background-color: {% if d.emission_days_left <= 7 and d.emission_days_left > 0 %}orange
                                     {% elif d.emission_days_left <= 0 %}red
                                     {% endif %};">
                                {{ d.emissiondate }}
                            </td>
                            <td>
                                {% if d.emission %}
                                <img src="{{ d.emission.url }}" alt="Emission" width="50" height="50">
                                {% else %}
                                No Image
                                {% endif %}
                            </td>

                            <!-- Action buttons -->
                            <td class="action-btns">
                                <a href="{% url 'vehicle_edit' d.id %}" class="btn btn-info btn-lg">EDIT</a>
                            </td>
                            <td class="action-btns">
                                <a href="{% url 'vehicle_delete' d.id %}" class="btn btn-danger">DELETE</a>
                            </td>
                        </tr>
                        {% endfor %}
                        </tbody>

                    </table>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-12 text-center">
        <!--
          **==========
          NOTE:
          Please don't remove this copyright link unless you buy the license here https://untree.co/license/
          **==========
        -->

    </div>
</div>
</div>
<!-- /.container -->
</div>
<!-- /.site-footer -->

<!-- Preloader -->
<div id="overlayer"></div>
<div class="loader">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>

<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/tiny-slider.js' %}"></script>
<script src="{% static 'js/aos.js' %}"></script>
<script src="{% static 'js/navbar.js' %}"></script>
<script src="{% static 'js/counter.js' %}"></script>
<script src="{% static 'js/custom.js' %}"></script>
</body>
</html>

